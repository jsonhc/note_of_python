# encoding:utf-8
import urllib2       # 读取网页内容的三种方式


def downloan1(url):
    return urllib2.urlopen(url).read()    # 读取全部网页内容


def downloan2(url):
    return urllib2.urlopen(url).readlines()  # 读取的内容返回list的元素


def downloan3(url):
    response = urllib2.urlopen(url)    # 将获取的网页内容抽象为文件
    while True:         # 循环打印文件内容
        line = response.readline()     # 读取每一行
        if not line:      # 当一行的内容为None时,break
            break
        print(line)


url = "http://www.baidu.com"
print(downloan1(url))


使用User-agent进行请求url:
import urllib2
def get_zhiboba_by_useragent():
    url = "https://www.zhibo8.cc/"
    header = {"User-Agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36"}
    request = urllib2.Request(url, headers=header)    # 发起请求
    data = urllib2.urlopen(request).read()    # 打开请求,获取网站数据
    return data


print(get_zhiboba_by_useragent())
